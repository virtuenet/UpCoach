# UpCoach API - Staging Environment Configuration
# Copy this file to .env.staging and fill in your values

# =============================================================================
# SERVER CONFIGURATION
# =============================================================================
PORT=3001
NODE_ENV=production

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================
DATABASE_URL=postgresql://user:password@staging-db-host:5432/upcoach_staging?sslmode=require

# =============================================================================
# REDIS CONFIGURATION
# =============================================================================
REDIS_URL=redis://:password@staging-redis-host:6379

# =============================================================================
# AUTHENTICATION
# =============================================================================
JWT_SECRET=staging-jwt-secret-at-least-64-characters-long-generate-with-openssl-rand-hex-64
JWT_EXPIRES_IN=15m
JWT_REFRESH_SECRET=staging-refresh-secret-at-least-64-chars-generate-with-openssl-rand-hex-64
JWT_REFRESH_EXPIRES_IN=7d
SESSION_SECRET=staging-session-secret-64-chars-long-generate-with-openssl-rand-hex-64

# =============================================================================
# SECURITY SETTINGS
# =============================================================================
BCRYPT_ROUNDS=12
COOKIE_SECURE=true
COOKIE_HTTPONLY=true
COOKIE_SAMESITE=strict

# =============================================================================
# CORS CONFIGURATION
# =============================================================================
CORS_ORIGINS=https://staging.upcoach.com,https://staging-admin.upcoach.com

# =============================================================================
# RATE LIMITING (more permissive for testing)
# =============================================================================
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=200

# =============================================================================
# OPENAI CONFIGURATION
# =============================================================================
OPENAI_API_KEY=sk-staging-your-openai-api-key
OPENAI_MODEL=gpt-4-turbo-preview

# =============================================================================
# CLAUDE CONFIGURATION
# =============================================================================
CLAUDE_API_KEY=sk-ant-staging-your-claude-api-key
CLAUDE_MODEL=claude-3-sonnet-20240229

# =============================================================================
# LOCAL LLM
# =============================================================================
LOCAL_LLM_ENABLED=true
LOCAL_LLM_MODEL_PATH=/app/models/phi-3.5-mini-instruct.gguf
LOCAL_LLM_MAX_TOKENS=512
LOCAL_LLM_CONTEXT_WINDOW=4096
LOCAL_LLM_TIMEOUT_MS=20000
LOCAL_LLM_BACKEND=llama.cpp

# =============================================================================
# SUPABASE CONFIGURATION
# =============================================================================
SUPABASE_URL=https://staging-project.supabase.co
SUPABASE_ANON_KEY=staging-supabase-anon-key
SUPABASE_SERVICE_ROLE_KEY=staging-supabase-service-role-key

# =============================================================================
# STRIPE CONFIGURATION (Test Mode)
# =============================================================================
STRIPE_SECRET_KEY=sk_test_your-stripe-test-key
STRIPE_WEBHOOK_SECRET=whsec_staging-webhook-secret

# =============================================================================
# REVENUECAT CONFIGURATION (Sandbox)
# =============================================================================
REVENUECAT_API_KEY=staging-revenuecat-api-key
REVENUECAT_WEBHOOK_AUTH_KEY=staging-webhook-auth-key
REVENUECAT_PROJECT_ID=staging-project-id

# =============================================================================
# EMAIL CONFIGURATION
# =============================================================================
SMTP_HOST=smtp.sendgrid.net
SMTP_PORT=587
SMTP_USER=apikey
SMTP_PASS=staging-sendgrid-api-key
EMAIL_FROM=staging@upcoach.com

# =============================================================================
# SMS CONFIGURATION (Mock for staging)
# =============================================================================
SMS_PROVIDER=mock
SMS_SIMULATE_FAILURE=false

# =============================================================================
# PUSH NOTIFICATIONS
# =============================================================================
FCM_SERVER_KEY=staging-fcm-server-key

# =============================================================================
# MONITORING
# =============================================================================
SENTRY_DSN=https://staging-sentry-dsn@o123456.ingest.sentry.io/staging
SENTRY_ENVIRONMENT=staging
SENTRY_TRACES_SAMPLE_RATE=0.5
SENTRY_PROFILES_SAMPLE_RATE=0.5

DATADOG_ENABLED=false

# =============================================================================
# CDN CONFIGURATION
# =============================================================================
CDN_ENABLED=false
CDN_URL=

# =============================================================================
# FILE UPLOAD
# =============================================================================
MAX_FILE_SIZE=52428800
UPLOAD_DIR=/app/uploads

# =============================================================================
# LOGGING
# =============================================================================
LOG_LEVEL=debug
