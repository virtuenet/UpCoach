# CodeQL Configuration
# Advanced security analysis configuration

name: "UpCoach Security Analysis"

# Specify additional queries to run
queries:
  - uses: security-extended
  - uses: security-and-quality
  - uses: security-experimental

# Define query filters
query-filters:
  - exclude:
      id: js/unused-local-variable
  - exclude:
      id: js/missing-rate-limiting
      tags: 
        - external/cwe/cwe-307
  - include:
      tags:
        - security
        - external/cwe

# Path filters - exclude test and vendor directories
paths-ignore:
  - '**/test/**'
  - '**/tests/**'
  - '**/spec/**'
  - '**/node_modules/**'
  - '**/vendor/**'
  - '**/dist/**'
  - '**/build/**'
  - '**/.next/**'
  - '**/coverage/**'

# Additional packs for comprehensive analysis
packs:
  javascript:
    - codeql/javascript-queries
    - codeql/javascript-experimental-atm-queries
    - octodemo/javascript-security-queries
  typescript:
    - codeql/typescript-queries

# Custom queries for UpCoach specific patterns
# These would be defined in .github/codeql/custom-queries/
# query-suites:
#   - .github/codeql/custom-queries/upcoach-security.qls